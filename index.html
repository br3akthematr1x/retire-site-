<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RETIRE — The Last Play</title>
<meta name="description" content="RETIRE — apparel and goods for members of The Last Play Community." />
<meta name="theme-color" content="#0b0b0c" />
<link rel="icon" href="/assets/img/favicon.png"/>
<link rel="preload" as="image" href="/assets/img/retire-hero-poster.jpg" />
<link rel="stylesheet" href="/assets/css/style.css" />

<!-- html2canvas for screenshot capture -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js" defer></script>
<!-- Share logic (no X API needed). 
     TIP for pure-black export: in share-noapi.js, use `const BG='#000'` for capture background. -->
<script src="/assets/js/share-noapi.js" defer></script>

<style>
  /* Widen container so the community link/image is larger */
  .container {
    max-width: 1680px;
    width: 96%;
    margin: 0 auto;
  }

  .retire-collection { margin-top: 8px; }

  /* Keep your exact font; only improve readability (spacing/smoothing). */
  .section .best-title{
    text-align: left !important;
    line-height: 1.22;
    letter-spacing: 0.03em;
    margin: 0 0 24px 0;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Remove borders/frames around best seller photos */
  #best-sellers .product-grid .card .media,
  #best-sellers .product-grid .card .media img{
    border: none !important;
    box-shadow: none !important;
    outline: none !important;
    background: transparent !important;
  }

  /* Make the community link span the full container width */
  #community .best-title { margin-bottom: 16px; }
  .community-card{
    display:block;
    width:100%;
    max-width:100%;
    margin:16px 0 0 0;
    border-radius:16px;
    overflow:hidden;
    background:#000000;
    border:1px solid rgba(255,255,255,.08);
    transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
  }
  .community-card:hover{
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(0,0,0,.45);
    border-color: rgba(255,255,255,.16);
  }
  .community-img{ display:block; width:100%; height:auto; }

  /* Helper for calculator expand button */
  .rp-expand { display:flex; justify-content:center; margin: 12px auto 0; }
  .rp-expand .rp-btn { width: 100%; max-width: 320px; text-align:center; }

  /* ===== Results alignment ===== */
  #hp-results .rp-kv{
    display:grid;
    grid-template-columns: 1fr auto;
    align-items:center;
    gap:12px;
    padding:10px 2px;
  }
  #hp-results .rp-kv span{
    color:#d9d9dc;
    font-size:14px;
    line-height:1.3;
  }
  #hp-results .rp-kv strong{
    font-variant-numeric: tabular-nums;
    text-align:right;
    font-weight:700;
    letter-spacing:.3px;
  }

  /* Emphasized current value pill */
  #hp-results .rp-kv-emph{ padding:0; }
  #hp-results .rp-kv-emph > span{
    display:block;
    background:#141416;
    border:1px solid #2a2a2e;
    padding:14px 16px;
    border-radius:16px;
    margin-bottom:10px;
  }
  #hp-current{ font-size:22px; }

  /* ===== Screenshot panel (shareable black card) ===== */
  #hp-xwrap{
    display:flex;
    flex-direction:column;
    justify-content:center;              /* centers vertically */
    align-items:center;
    text-align:center;
    background:#000;
    border:1px solid #000;
    border-radius:18px;
    padding:40px 16px;
    margin-top:14px;
    min-height:400px;                    /* slightly taller for balance */
    box-sizing:border-box;
    position:relative;
  }

  /* Text block centered perfectly in the visible area */
  #hp-xmult{
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    color:#fff;
    font-weight:800;
    font-size:clamp(22px, 6.5vw, 32px);  /* a touch larger */
    line-height:1.25;
    letter-spacing:.2px;
    text-align:center;
    margin:0 auto;
    text-wrap:balance;
    max-width:28ch;

    /* visually center the text block a bit lower than exact mid */
    transform: translateY(8%);
  }

  /* First line: number + “greater” inline */
  #hp-xmult .first-line{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    align-items:baseline;
    gap:6px;
  }
  #hp-xmult .first-line strong{
    color:#39e07b;
    font-weight:1200;
  }
  #hp-xmult .first-line span{
    color:#fff;
    font-weight:800;
  }

  /* Second line */
  #hp-xmult .second-line{
    margin-top:4px;
  }

  /* Logo centered under text */
  .rp-brandmark{
    width:90px;
    height:auto;
    opacity:.95;
    margin-top:20px;
  }

  /* Full-width stacked buttons */
  #retire-pro .rp-btn{
    width:100%;
    display:inline-flex;
    justify-content:center;
    align-items:center;
    text-align:center;
  }
  #share-x{ margin-top:14px; }
  .tools-more-wrap{ margin-top:12px; }

  /* Small screens */
  @media (max-width:520px){
    #hp-results h3{ margin-bottom:10px; }
    #hp-results .rp-kv{ padding:8px 0; }
    #hp-xwrap{ min-height:360px; padding:28px 18px; }
    #hp-xmult{ font-size:clamp(20px, 6vw, 28px); transform:translateY(6%); }
    .rp-brandmark{ margin-top:30px; width:80px; }
  }

/* Only hide the screenshot panel until we actually have a result */
#hp-xwrap[hidden] { display: none !important; }

/* Make the multiple green no matter how the HTML is written */
#hp-xmult .rp-xnum,
#hp-xmult strong {
  color: #39e07b;
  font-weight: 900;
}


/* 2) TRUE visual centering: center text, anchor logo */
#hp-xwrap{
  position: relative;
  display: block;                /* no flex centering on the group */
  background:#000;
  border:1px solid #000;
  border-radius:18px;
  margin-top:14px;
  min-height:400px;
  padding: 24px 16px;            /* side padding only */
  box-sizing:border-box;
}

/* Center the text exactly in the box */
#hp-xmult{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);  /* perfect center */
  width: calc(100% - 32px);
  max-width: 28ch;
  text-align: center;
  color:#fff;
  font-weight:800;
  font-size: clamp(22px, 6.5vw, 32px);
  line-height:1.25;
  letter-spacing:.2px;
}

/* First line: number + “greater” inline */
#hp-xmult .first-line{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  align-items:baseline;
  gap:6px;
}
#hp-xmult .first-line strong{ color:#39e07b; font-weight:900; }

/* Second line */
#hp-xmult .second-line{ margin-top:4px; }

/* Anchor logo to the bottom independently of text */
.rp-brandmark{
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 20px;
  width: 90px;
  height: auto;
  opacity:.95;
}

/* 3) Force green multiple even if markup varies */
#hp-xmult .rp-xnum,
#hp-xmult strong {
  color:#39e07b;
  font-weight:900;
}

/* Small screens */
@media (max-width:520px){
  #hp-xwrap{ min-height:360px; }
  #hp-xmult{ font-size: clamp(20px, 6vw, 28px); }
  .rp-brandmark{ width: 80px; bottom: 16px; }
}

</style>



</head>
<body>
<input type="checkbox" id="drawer-toggle" hidden>

<!-- ======= HEADER ======= -->
<header>
  <div class="container">
    <div class="nav">
      <label class="menu-btn" for="drawer-toggle" aria-label="Open menu" role="button" tabindex="0">☰</label>

      <a class="brand" href="/">
        <img class="logo-img" src="/assets/img/retire-logo.png" alt="RETIRE">
      </a>

      <div class="spacer"></div>

      <form class="search" role="search">
        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
          <circle cx="11" cy="11" r="7" stroke="#fff" stroke-width="1.5" fill="none"/>
          <path d="M20 20L17 17" stroke="#fff" stroke-width="1.5" stroke-linecap="round" fill="none"/>
        </svg>
        <input placeholder="Search products..." />
      </form>

      <div class="icons">
        <a id="openCart" class="icon-btn" title="Cart" href="javascript:void(0)" aria-label="Cart">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path d="M6 8h12l-1 12H7L6 8Z" fill="none" stroke="#EDEDED" stroke-width="1.5"/>
            <path d="M9 8V6a3 3 0 0 1 6 0v2" fill="none" stroke="#EDEDED" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span class="cart-badge" id="cartCount" style="display:none">0</span>
        </a>
        <!-- FAVORITES ICON REMOVED AS REQUESTED -->
      </div>
    </div>
  </div>
</header>

<!-- ======= DRAWER (LEFT SIDE) ======= -->
<label class="drawer-overlay" for="drawer-toggle" aria-hidden="true"></label>
<aside class="drawer" role="dialog" aria-modal="true" aria-label="Main menu">
  <div class="drawer-header">
    <div class="brand"></div>
    <label class="close-btn" for="drawer-toggle" aria-label="Close menu" role="button" tabindex="0">✕</label>
  </div>
  <nav class="drawer-nav">
    <a class="drawer-link" href="/products.html">Merch</a>
    <a class="drawer-link" href="/retire-calculator.html">Retirement Tools</a>
    <a class="drawer-link" href="/about.html">About Us</a>
    <a class="drawer-link" href="/contact.html">Contact Us</a>
  </nav>
</aside>

<!-- ======= CART DRAWER ======= -->
<div class="cart-overlay"></div>
<aside class="cart-panel" aria-label="Cart" aria-modal="true" role="dialog">
  <div class="cart-header">
    <strong>Your Cart</strong>
    <button id="cartClose" class="cart-close" aria-label="Close">✕</button>
  </div>
  <div id="cartItems" class="cart-items"></div>
  <div class="cart-footer">
    <div class="cart-subrow">
      <span>Subtotal</span>
      <strong id="cartSubtotal">$0.00 USD</strong>
    </div>
    <button id="cartCheckout" class="cart-checkout" type="button">
      <svg aria-hidden="true" viewBox="0 0 24 24" width="18" height="18">
        <path d="M17 11V8a5 5 0 0 0-10 0v3M6 9h12v10H6z" fill="none" stroke="#000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span>Secure Checkout</span>
    </button>
  </div>
</aside>

<!-- ======= HERO ======= -->
<section class="hero">
  <div class="frame">
    <video id="heroVideo" src="/assets/video/retire-hero.mp4" autoplay muted playsinline loop poster="/assets/img/retire-hero-poster.jpg"></video>
    <div class="overlay"></div>
    <button id="muteToggle" class="mute-btn" aria-label="Toggle sound" title="Toggle sound">🔇</button>
    <div id="unmuteHint" class="unmute-hint">Tap to enable sound</div>
  </div>
</section>

<!-- ======= BEST SELLERS ======= -->
<section class="section container" id="best-sellers">
  <h2 class="best-title">OUR BEST SELLING PRODUCTS</h2>
  <div class="retire-collection">
    <div id="bestGrid" class="product-grid"></div>
    <div class="grid-more-wrap">
      <a href="/products.html" class="rp-btn show-more-btn" aria-label="View all products">Show more</a>
    </div>
  </div>
</section>

<!-- ======= FEATURES ======= -->
<section class="section container" id="benefits">
  <div class="features">
    <div class="feature">
      <svg width="36" height="36" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3l8 4-8 4-8-4 8-4zm0 14l8-4-8-4-8 4 8 4z" stroke="#fff" fill="none"/></svg>
      <div><strong>Sustainable Materials</strong><div class="muted">Durable, comfortable fabrics picked for everyday wear.</div></div>
    </div>
    <div class="feature">
      <svg width="36" height="36" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="9" stroke="#fff" fill="none"/><path d="M8 12l3 3 5-6" stroke="#fff" stroke-width="1.5" stroke-linecap="round" fill="none"/></svg>
      <div><strong>Accepts Solana Pay</strong><div class="muted">Checkout with your crypto wallet via Solana Pay — secure and fast.</div></div>
    </div>
    <div class="feature">
      <svg width="36" height="36" viewBox="0 0 24 24" aria-hidden="true"><rect x="3" y="8" width="18" height="10" stroke="#fff" fill="none"/><path d="M7 8V6h6l2 2" stroke="#fff" fill="none"/></svg>
      <div><strong>Delivery & Shipping</strong><div class="muted">Fast, tracked shipping to your door.</div></div>
    </div>
    <div class="feature">
      <svg width="36" height="36" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 20V7a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v13" stroke="#fff" fill="none"/><path d="M9 11c1.5 1.5 3.5 1.5 5 0" stroke="#fff" fill="none"/></svg>
      <div><strong>Eco-Friendly Fabrics</strong><div class="muted">Quality without compromise.</div></div>
    </div>
  </div>
</section>

<!-- ======= JOIN OUR COMMUNITY ======= -->
<section class="section container" id="community">
  <h2 class="best-title">JOIN OUR COMMUNITY</h2>
  <a class="community-card" href="https://linktr.ee/thelastplaysol" target="_blank" rel="noreferrer" aria-label="Join our community on Linktree">
    <img class="community-img" src="/assets/img/linktree.png" alt="Join The Last Play community on Linktree">
  </a>
</section>

<!-- ======= INLINE CALCULATOR ======= -->
<section class="section container" id="retire-pro">
  <h2 class="best-title">RETIRE VS YOUR TRADITIONAL 401K PLAN</h2>

  <div class="rp-ctl" style="margin-bottom:10px;">
    <label for="rp-ccy">Currency</label>
    <select id="rp-ccy" aria-label="Currency"></select>
  </div>

  <div class="rp-grid">
    <!-- Left card: Your Holdings -->
    <div class="rp-card">
      <h3>Your Holdings</h3>

      <div class="rp-field">
        <label for="hp-amount">Amount of RETIRE you hold</label>
        <input id="hp-amount" inputmode="decimal" placeholder="e.g., 1,000,000">
      </div>

      <div class="rp-field">
        <label for="hp-avg">Average purchase price (USD)</label>
        <input id="hp-avg" inputmode="decimal" placeholder="e.g., 0.005" value="0.005">
      </div>

      <!-- ADVANCED CONTROLS REMOVED ON HOMEPAGE -->
      <input id="hp-live" type="checkbox" checked hidden>

      <button id="hp-calc" class="rp-btn">Calculate</button>
    </div>

    <!-- Right card: Results -->
    <div class="rp-card" id="hp-results">
      <h3>Results</h3>

      <div class="rp-kv rp-kv-emph">
        Current RETIRE Value
        <strong id="hp-current" class="rp-current-emph">$—</strong>
      </div>

      <div class="rp-kv">
        <span>Your Initial Investment</span>
        <strong id="hp-cost">$—</strong>
      </div>

      <div class="rp-kv">
        <span>Traditional 401k Value</span>
        <strong id="hp-401k">$—</strong>
      </div>

      <div class="rp-kv">
        <span>Outperformance vs Traditional 401k</span>
        <strong id="hp-diff">—</strong>
      </div>

      <!-- Centered black panel + larger brandmark (screenshot target) -->
      <div class="rp-xwrap" id="hp-xwrap" hidden>
        <!-- Wrap the number in <strong> for green accent -->
          <div id="hp-xmult">
            <div class="first-line">
              <strong>17.11×</strong>
              <span>greater gain </span>
              
            </div>
            <div class="second-line">
               than a traditional 401k over this period
            </div>
          </div>
          
        <img id="hp-brandmark" class="rp-brandmark" src="/assets/img/retire-logo.png" alt="RETIRE">
      </div>
    </div>
  </div>

  <!-- Full-width stacked buttons -->
  <button id="share-x" class="rp-btn" aria-label="Share results on X">
    <span style="display:inline-block;transform:translateY(1px);margin-right:8px">𝕏</span>
    Share on X
  </button>

  <div class="tools-more-wrap">
    <a href="/retire-calculator.html" class="rp-btn show-all-btn" aria-label="Open all tools">Show All Tools</a>
  </div>
</section>

<!-- include your main stylesheet and the shared script if not already on the page -->
<link rel="stylesheet" href="/assets/css/style.css">
<script src="/assets/js/retire-roi.js"></script>

<!-- ======= FOOTER ======= -->
<footer>
  <footer class="site-footer"></footer>
  <div class="container footer-grid">
    <div>
      <div class="foot-logo">
        <img class="footer-logo-img" src="/assets/img/retire-logo.png" alt="RETIRE">
      </div>
      <p class="muted">The Last Play.</p>
    </div>
    <div class="footer-col">
      <strong class="footer-title">Pages</strong>
      <a href="/">Home</a><br>
      <a href="/products.html">Merch</a><br>
      <a href="/retire-calculator.html">Retirement Tools</a><br>
      <a href="/about.html">About Us</a><br>
      <a href="/contact.html">Contact Us</a><br>
    </div>
    <div class="footer-col">
      <strong class="footer-title">Follow Us</strong>
      <a href="https://twitter.com/thelastplaysol" target="_blank" rel="noreferrer">Twitter/X</a><br>
      <a href="https://www.instagram.com/thelastplaysol/" target="_blank" rel="noreferrer">Instagram</a><br>
      <a href="https://www.tiktok.com/@retireonsol" target="_blank" rel="noreferrer">TikTok</a><br>
      <a href="https://www.youtube.com/channel/UCl6pyRjpCtRIXO2Aj_oAtdw" target="_blank" rel="noreferrer">YouTube</a><br>
    </div>
  </div>
</footer>

<!-- Best Sellers via Storefront API (unchanged) -->
<script>
(function () {
  const SHOP_DOMAIN = 'itbiip-xv.myshopify.com';
  const STOREFRONT_TOKEN = 'c4477df01824efd06e5c9f40f1f2229d';
  const COLLECTION_GID = 'gid://shopify/Collection/478427971807';
  const API = `https://${SHOP_DOMAIN}/api/2024-10/graphql.json`;

  function money(amount, code){
    const n = Number(amount);
    return Number.isFinite(n) ? `$${n.toFixed(2)} ${code}` : `$${amount} ${code}`;
  }

  async function fetchCollection(gid, first=4){
    const query = `
      query($id: ID!, $first: Int!) {
        collection(id: $id) {
          products(first: $first) {
            nodes {
              title handle
              featuredImage { url altText }
              priceRange { minVariantPrice { amount currencyCode } }
            }
          }
        }
      }`;
    const res = await fetch(API, {
      method:'POST',
      headers:{
        'Content-Type':'application/json',
        'X-Shopify-Storefront-Access-Token': STOREFRONT_TOKEN
      },
      body: JSON.stringify({query, variables:{id: gid, first}})
    });
    if (!res.ok) throw new Error(`HTTP ${res.status}`);
    const json = await res.json();
    return json.data?.collection?.products?.nodes || [];
  }

  function renderCards(products, mountId){
    const grid = document.getElementById(mountId);
    if (!grid) return;
    grid.innerHTML = products.map(p=>{
      const url = `/product.html?handle=${encodeURIComponent(p.handle)}`;
      const img = p.featuredImage?.url || '/assets/img/placeholder.jpg';
      const alt = p.featuredImage?.altText || p.title;
      const price = money(p.priceRange.minVariantPrice.amount, p.priceRange.minVariantPrice.currencyCode);
      return `
        <a class="card" href="${url}">
          <div class="media"><img src="${img}" alt="${alt}"></div>
          <div class="content">
            <h3 class="title">${p.title}</h3>
            <div class="row"><span class="price">${price}</span></div>
          </div>
        </a>`;
    }).join('');
  }

  (async ()=>{
    try {
      const items = await fetchCollection(COLLECTION_GID, 4);
      renderCards(items, 'bestGrid');
    } catch (e) {
      const grid = document.getElementById('bestGrid');
      if (grid) grid.innerHTML = `<p class="muted">Could not load products.</p>`;
    }
  })();
})();
</script>

<!-- Scripts -->
<script src="/assets/js/cart.js" defer></script>
<script src="/assets/js/site.js" defer></script>
</body>
</html>
